services:
  defectivegoods.mvc:
    build:
      context: C:\Users\a.chuvakov\Desktop\C# and etc\DG
      dockerfile: DefectiveGoods.Mvc/Dockerfile
    environment:
      ASPNETCORE_ENVIRONMENT: Development
      ASPNETCORE_URLS: https://+:443;http://+:80
    image: defectivegoodsmvc
    ports:
    - target: 80
    - target: 443
    volumes:
    - C:\Users\a.chuvakov\AppData\Roaming\ASP.NET\Https:/root/.aspnet/https:ro
    - C:\Users\a.chuvakov\AppData\Roaming\Microsoft\UserSecrets:/root/.microsoft/usersecrets:ro
  dg.pgsql:
    container_name: dg.pgsql
    environment:
      PGDATA: /var/lib/postgresql/data/pgdata
      POSTGRES_DB: dg
      POSTGRES_PASSWORD: '123'
    image: postgres:12.4-alpine
    ports:
    - published: 5432
      target: 5432
    restart: always
    volumes:
    - C:\Users\a.chuvakov\Desktop\C# and etc\DG\docker\temp\db:/var/lib/postgresql/data/pgdata:rw
version: '3.4'